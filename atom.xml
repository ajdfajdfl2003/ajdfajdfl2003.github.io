<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>享受學習的樂趣</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ajdfajdfl2003.github.io/"/>
  <updated>2018-03-19T15:54:58.580Z</updated>
  <id>http://ajdfajdfl2003.github.io/</id>
  
  <author>
    <name>ajdfajdfl</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mocking Instance Methods In Java 上課筆記</title>
    <link href="http://ajdfajdfl2003.github.io/2018/03/19/MockingInstanceMethodsInJava/"/>
    <id>http://ajdfajdfl2003.github.io/2018/03/19/MockingInstanceMethodsInJava/</id>
    <published>2018-03-19T15:45:28.000Z</published>
    <updated>2018-03-19T15:54:58.580Z</updated>
    
    <content type="html"><![CDATA[<p>上課的筆記：<a href="https://www.udemy.com/advanced-junit-testing-with-powermock-and-powermockito/learn/v4/overview" target="_blank" rel="external">Advanced JUnit testing with PowerMock and PowerMockito</a></p>
<p>這裡會讓你知道有無使用 Mocking Framework 寫法上的差異。</p>
<a id="more"></a>
<h2 id="Without-PowerMockito"><a href="#Without-PowerMockito" class="headerlink" title="Without PowerMockito"></a>Without PowerMockito</h2><p>一般來說，如果沒有使用任何的 Mocking Framework，那麼就會需要使用 <strong>繼承</strong> 的方式來做到 mock 物件的這件事情。</p>
<p>以下範例是沒有使用 Mocking Framework</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartCart_Should_Ok_When_Engine_Ok</span><span class="params">()</span> </span>&#123;</div><div class="line">    EngineMock engine = <span class="keyword">new</span> EngineMock();</div><div class="line">    engine.setReturnValue(Engine.STARTED_OK);</div><div class="line">    Car car = <span class="keyword">new</span> Car(engine);</div><div class="line">    assertTrue(car.start());</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">EngineMock</span> <span class="keyword">extends</span> <span class="title">Engine</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> code;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setReturnValue</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        code = value;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> code;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>用物件導向的優點：<strong>繼承</strong>，將方法用複寫的方式，在測試端做一個 Stub 並繼承 Production Code 的 Class 並複寫該方法，用 DI 的概念將相依的物件（例如： Engine）注入到假的 Class。</p>
<h2 id="Using-PowerMockito"><a href="#Using-PowerMockito" class="headerlink" title="Using PowerMockito"></a>Using PowerMockito</h2><p>使用 <a href="http://powermock.github.io/" target="_blank" rel="external">PowerMockito</a> 來改寫上面範例並不用繼承的方式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartCar_Should_Ok_When_Engine_Ok_UsingPowerMock</span><span class="params">()</span> </span>&#123;</div><div class="line">    Engine engine = PowerMockito.mock(Engine.class);</div><div class="line">    PowerMockito.when(engine.start()).thenReturn(Engine.STARTED_OK);</div><div class="line">    Car car = <span class="keyword">new</span> Car(engine);</div><div class="line"></div><div class="line">    <span class="keyword">boolean</span> actual = car.start();</div><div class="line"></div><div class="line">    assertTrue(actual);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>這樣是不是精簡許多！！！</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;上課的筆記：&lt;a href=&quot;https://www.udemy.com/advanced-junit-testing-with-powermock-and-powermockito/learn/v4/overview&quot;&gt;Advanced JUnit testing with PowerMock and PowerMockito&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;這裡會讓你知道有無使用 Mocking Framework 寫法上的差異。&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Java" scheme="http://ajdfajdfl2003.github.io/categories/Note/Java/"/>
    
    
      <category term="note" scheme="http://ajdfajdfl2003.github.io/tags/note/"/>
    
      <category term="java" scheme="http://ajdfajdfl2003.github.io/tags/java/"/>
    
      <category term="mock" scheme="http://ajdfajdfl2003.github.io/tags/mock/"/>
    
      <category term="powermock" scheme="http://ajdfajdfl2003.github.io/tags/powermock/"/>
    
  </entry>
  
  <entry>
    <title>Windows Server 2016 卡在登入或是關機的階段</title>
    <link href="http://ajdfajdfl2003.github.io/2017/07/12/WindowsClusterStuckInLogin/"/>
    <id>http://ajdfajdfl2003.github.io/2017/07/12/WindowsClusterStuckInLogin/</id>
    <published>2017-07-12T13:54:14.000Z</published>
    <updated>2017-07-15T03:44:22.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>時間發生點：2017 年 四月底五月初之間</li>
<li>OS：Windows Server 2016 Datacenter</li>
<li>發生事件：<ul>
<li>叢集節點出現 Event Id 1146 RHS程序已終止</li>
</ul>
</li>
</ul>
<a id="more"></a>
<h2 id="經過"><a href="#經過" class="headerlink" title="經過"></a>經過</h2><p>起初，以為是叢集方面的設定有誤，以致於發生這樣的錯誤</p>
<p>透過微軟工程師的協助</p>
<p>蒐集了相關 Log：</p>
<ul>
<li><strong>Cluster log</strong><ul>
<li>使用 Powershell 指令產生所有節點的 cluster log</li>
<li><strong>Get-ClusterLog</strong> <u><em>[-destination]</em></u> <u><em>[file location]</em></u></li>
</ul>
</li>
<li><strong>Event log</strong><ul>
<li>蒐集所有節點的 Event Log。</li>
<li>儲存位置 : <strong>C:\Windows\System32\winevt\Logs</strong></li>
</ul>
</li>
<li><strong>ClusterDiagnosticInfo</strong><ul>
<li>使用 Powershell 指令產生所有節點的 ClusterDiagnosticInfo</li>
<li><strong>Get-ClusterDiagnosticInfo</strong> <u><em>[-WriteToPath]</em></u> <u><em>[FileLocation]</em></u></li>
</ul>
</li>
<li><p><strong>Memory Dump</strong></p>
<ul>
<li><p><strong>Memory Dump 設定</strong></p>
<ul>
<li><p>CrashDumpEnabled</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\CrashControl</div><div class="line">  Name：CrashDumpEnabled</div><div class="line">  Data Type：REG_DWORD</div><div class="line">  Data value：1</div></pre></td></tr></table></figure>
</li>
<li><p>CrashOnCtrlScroll</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\kbdhid\Parameters</div><div class="line">  Name：CrashOnCtrlScroll</div><div class="line">  Data Type：REG_DWORD</div><div class="line">  Data value：1</div></pre></td></tr></table></figure>
</li>
<li><p>After setting memory dump, <u>restart computer</u></p>
</li>
</ul>
</li>
<li><strong>在問題發生時手動產生 Dump</strong><ul>
<li>重現問題，手動產生dump，將鍵盤右邊的 Ctrl 鍵按住不放、連續按 ScrollLock 鍵兩次。成功的話您將看到藍底白字當機畫面。</li>
<li>檔案將產生於%SystemRoot%\MEMORY.DMP</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="結果"><a href="#結果" class="headerlink" title="結果"></a>結果</h2><p>經微軟工程師從現有資料檢視到問題來自於</p>
<p><u><strong>iSCSI initiator(cluster node) 持續向 storage 建立連線，但不明原因出現連線失敗的狀況，而這些 iSCSI thread 並未被 OS 清除，導致最後出現 server hang。</strong></u></p>
<p>此問題已被微軟產品組判定為 bug，目前正針對此問題進行修正中。</p>
<p>自我檢視的部份，也確認是因為 iSCSI initiator 上有嘗試跟不存在的 iSCSI target 做連線，最後將那些清除後，問題解決！</p>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;時間發生點：2017 年 四月底五月初之間&lt;/li&gt;
&lt;li&gt;OS：Windows Server 2016 Datacenter&lt;/li&gt;
&lt;li&gt;發生事件：&lt;ul&gt;
&lt;li&gt;叢集節點出現 Event Id 1146 RHS程序已終止&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Windows" scheme="http://ajdfajdfl2003.github.io/categories/Note/Windows/"/>
    
      <category term="Server" scheme="http://ajdfajdfl2003.github.io/categories/Note/Windows/Server/"/>
    
      <category term="2016" scheme="http://ajdfajdfl2003.github.io/categories/Note/Windows/Server/2016/"/>
    
      <category term="iSCSI initiator" scheme="http://ajdfajdfl2003.github.io/categories/Note/Windows/Server/2016/iSCSI-initiator/"/>
    
    
      <category term="note" scheme="http://ajdfajdfl2003.github.io/tags/note/"/>
    
      <category term="windows" scheme="http://ajdfajdfl2003.github.io/tags/windows/"/>
    
      <category term="server" scheme="http://ajdfajdfl2003.github.io/tags/server/"/>
    
      <category term="2016" scheme="http://ajdfajdfl2003.github.io/tags/2016/"/>
    
      <category term="stuck" scheme="http://ajdfajdfl2003.github.io/tags/stuck/"/>
    
      <category term="iscsi" scheme="http://ajdfajdfl2003.github.io/tags/iscsi/"/>
    
      <category term="initiator" scheme="http://ajdfajdfl2003.github.io/tags/initiator/"/>
    
  </entry>
  
  <entry>
    <title>不專業自製延長線</title>
    <link href="http://ajdfajdfl2003.github.io/2017/06/10/DIY-Extension-Cord/"/>
    <id>http://ajdfajdfl2003.github.io/2017/06/10/DIY-Extension-Cord/</id>
    <published>2017-06-10T05:02:52.000Z</published>
    <updated>2017-06-10T05:11:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>因為出自好奇，嘗試自製延長線<br>而本文目前只會提到製作延長線的過程，其餘相關專業知識暫不會提到。</p>
<a id="more"></a>
<h2 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h2><ul>
<li><p>插頭 x1</p>
<ul>
<li><img src="/2017/06/10/DIY-Extension-Cord/IMG_4079.jpg" alt="IMG_4079.jpg" title="">
</li>
</ul>
</li>
<li><p>電木插座（四孔）x1</p>
<ul>
<li><img src="/2017/06/10/DIY-Extension-Cord/IMG_4082.jpg" alt="IMG_4082.jpg" title="">
</li>
</ul>
</li>
<li><p>大山的白扁線 1.6mm（試做的關係，先用一米的線）</p>
<ul>
<li><img src="/2017/06/10/DIY-Extension-Cord/IMG_4083.jpg" alt="IMG_4083.jpg" title=""></li>
<li>註記：其實還不是很清楚什麼時候需要用 <strong>單芯線</strong> 還是 <strong>絞線</strong> …</li>
</ul>
</li>
<li>R型端子 R2-3<ul>
<li><img src="/2017/06/10/DIY-Extension-Cord/IMG_4086.jpg" alt="IMG_4086.jpg" title=""></li>
<li><a href="http://rico0123tw.blogspot.tw/2013/04/blog-post_21.html?m=1" target="_blank" rel="external">如何判讀請參考</a></li>
</ul>
</li>
<li>螺絲起子 以及 端子壓著鉗<ul>
<li><img src="/2017/06/10/DIY-Extension-Cord/IMG_4084.jpg" alt="IMG_4084.jpg" title=""></li>
</ul>
</li>
<li>脫皮鉗<ul>
<li><img src="/2017/06/10/DIY-Extension-Cord/IMG_4107.jpg" alt="IMG_4107.jpg" title=""></li>
<li>起初沒有使用脫皮鉗，在製作完插座端後才去購買。</li>
</ul>
</li>
</ul>
<h2 id="製作過程"><a href="#製作過程" class="headerlink" title="製作過程"></a>製作過程</h2><h3 id="插座端的部份"><a href="#插座端的部份" class="headerlink" title="插座端的部份"></a>插座端的部份</h3><hr>
<p><strong>事後補充</strong></p>
<ul>
<li>做完插座端後，感想是不應該急著剝線</li>
<li>應該先用剪刀將最外層皮剪開</li>
<li>然後分開兩條線單芯線，放進插座取適當的長度後再剝皮</li>
<li>後面文章會提到<ul>
<li>因為是扁線的緣故，如果沒有先將長度取好，在放進插座內後，會很難將扁線彎曲</li>
<li><u><strong>因此是不是一開始就不應該用扁線，而是使用較為柔軟的絞線？</strong></u></li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>一開始先大概估算要剝線的長度</li>
<li><p>然後剝線的部份起初是使用美工刀和斜口鉗兩者並用，結果….</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4087.jpg" alt="IMG_4087.jpg" title="">
<p>結果不是很好，技術問題…加上力道沒控制好，很容易傷到導體<br>然後外觀也很難看…</p>
</li>
<li><p>先用端子壓著鉗扣住絕緣端子，然後將線放進端子內，並壓下去（有點壓網路線的感覺）</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4088.jpg" alt="IMG_4088.jpg" title="">
</li>
<li><p>壓好後的結果</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4089.jpg" alt="IMG_4089.jpg" title="">
</li>
<li><p>再來將端子扣在螺絲並鎖緊</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4090.jpg" alt="IMG_4090.jpg" title="">
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4092.jpg" alt="IMG_4092.jpg" title="">
<p>一開始沒有先取好適當長度並彎曲，以致於這個步驟卡卡的</p>
</li>
<li><p>插座端完成品</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4093.jpg" alt="IMG_4093.jpg" title="">
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4094.jpg" alt="IMG_4094.jpg" title="">
</li>
</ul>
<h3 id="插頭端的部份"><a href="#插頭端的部份" class="headerlink" title="插頭端的部份"></a>插頭端的部份</h3><p>這部份只有幾點做一下補充，在前面因為剝皮技術不夠，跑去買了剝皮鉗，實用結果確實很方便。</p>
<ul>
<li><p>量好端子的深度</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4101.jpg" alt="IMG_4101.jpg" title="">
</li>
<li><p>開始剝皮</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4104.jpg" alt="IMG_4104.jpg" title="">
</li>
<li><p>結果</p>
<img src="/2017/06/10/DIY-Extension-Cord/IMG_4105.jpg" alt="IMG_4105.jpg" title="">
</li>
</ul>
<h3 id="最終成品"><a href="#最終成品" class="headerlink" title="最終成品"></a>最終成品</h3><img src="/2017/06/10/DIY-Extension-Cord/IMG_4106.jpg" alt="IMG_4106.jpg" title="">
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><ul>
<li>需替換掉扁線。<ul>
<li>太硬，接頭的地方很難處理。</li>
</ul>
</li>
<li>真心覺得不懂，然後不放心的話，就去買一條現成的延長線比較實在。</li>
</ul>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a href="http://rico0123tw.blogspot.tw/2013/04/blog-post_21.html?m=1" target="_blank" rel="external">材料製作篇[陸續補完&amp;增加]</a></li>
<li><a href="https://kkplay3c.net/diy-socket/" target="_blank" rel="external">電線不夠長，怎麼辦？自己 DIY 延長「插座」200元有找自製延長線！</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;因為出自好奇，嘗試自製延長線&lt;br&gt;而本文目前只會提到製作延長線的過程，其餘相關專業知識暫不會提到。&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="DIY" scheme="http://ajdfajdfl2003.github.io/categories/Note/DIY/"/>
    
    
      <category term="note" scheme="http://ajdfajdfl2003.github.io/tags/note/"/>
    
      <category term="diy" scheme="http://ajdfajdfl2003.github.io/tags/diy/"/>
    
      <category term="extension" scheme="http://ajdfajdfl2003.github.io/tags/extension/"/>
    
      <category term="cord" scheme="http://ajdfajdfl2003.github.io/tags/cord/"/>
    
  </entry>
  
  <entry>
    <title>Docker 常用指令</title>
    <link href="http://ajdfajdfl2003.github.io/2017/06/05/Docker-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"/>
    <id>http://ajdfajdfl2003.github.io/2017/06/05/Docker-常用指令/</id>
    <published>2017-06-05T14:33:15.000Z</published>
    <updated>2017-06-05T06:03:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>記錄一些會常用到的指令</p>
<p>在講其他指令之前，先記錄一件事情，有什麼不懂的指令，<br>只需要在 docker command 後面加上 <code>--help</code> 就會有說明可以參考。</p>
<a id="more"></a>
<h2 id="觀察的指令"><a href="#觀察的指令" class="headerlink" title="觀察的指令"></a>觀察的指令</h2><h3 id="List-Images"><a href="#List-Images" class="headerlink" title="List Images"></a>List Images</h3><ul>
<li>docker <u><strong>images</strong></u><ul>
<li>偏向單純觀察。</li>
</ul>
</li>
<li>docker <u><strong>image</strong></u><ul>
<li>主要是管理 image 的指令。</li>
<li>加了 <code>ls</code> 指令後就會有等同的效果。</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 只 show 出 top level 的 image</span></div><div class="line">docker images</div><div class="line">docker image ls</div><div class="line"></div><div class="line"><span class="comment">## show 出所有的 images</span></div><div class="line"><span class="comment">## 其中還包含了 intermediate layers 的 image</span></div><div class="line">docker images <span class="_">-a</span></div><div class="line">docker image ls <span class="_">-a</span></div><div class="line"></div><div class="line"><span class="comment">## 只列出 image 的 id</span></div><div class="line">docker images -q</div><div class="line">docker image ls -q</div></pre></td></tr></table></figure>
<h3 id="List-Containers"><a href="#List-Containers" class="headerlink" title="List Containers"></a>List Containers</h3><ul>
<li>docker <u><strong>ps</strong></u><ul>
<li>偏向單純觀察。</li>
</ul>
</li>
<li>docker <u><strong>container</strong></u><ul>
<li>主要是管理 container 的指令。</li>
<li>加了 <code>ls</code> 指令後就會有等同的效果。</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 只顯示正在運行的 的 container</span></div><div class="line">docker ps</div><div class="line">docker image ls</div><div class="line"></div><div class="line"><span class="comment">## show 出所有的 containers</span></div><div class="line"><span class="comment">## 其中還包含了沒有運行的 container</span></div><div class="line">docker ps <span class="_">-a</span></div><div class="line">docker container ls <span class="_">-a</span></div><div class="line"></div><div class="line"><span class="comment">## 只列出 images 的 id</span></div><div class="line">docker ps -q</div><div class="line">docker container ls -q</div></pre></td></tr></table></figure>
<h3 id="Container-的資源使用量"><a href="#Container-的資源使用量" class="headerlink" title="Container 的資源使用量"></a>Container 的資源使用量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 顯示目前所有執行中 container 的資源使用量</span></div><div class="line"><span class="comment">## 其中包含 CPU、Memeory、網路 I/O、Block I/O</span></div><div class="line">docker stats</div><div class="line"></div><div class="line"><span class="comment">## 加了 -a 參數，包含沒有在執行的 container</span></div><div class="line">docker stats <span class="_">-a</span></div><div class="line"></div><div class="line"><span class="comment">## 如果需要觀察特定的 container</span></div><div class="line">docker stats [CONTAINER ID / CONTAINER NAME]</div></pre></td></tr></table></figure>
<h3 id="Logs-of-a-Container"><a href="#Logs-of-a-Container" class="headerlink" title="Logs of a Container"></a>Logs of a Container</h3><ul>
<li>docker <u><strong>logs</strong></u><ul>
<li>參數 <code>-f</code>：這個指令跟 <code>tail -f</code> 有等同的效果</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 持續觀察某 Container 的 Log</span></div><div class="line">docker logs <span class="_">-f</span> [CONTAINER ID / CONTAINER NAME]</div></pre></td></tr></table></figure>
<h2 id="管理的指令"><a href="#管理的指令" class="headerlink" title="管理的指令"></a>管理的指令</h2><h3 id="刪除-移除-相關指令"><a href="#刪除-移除-相關指令" class="headerlink" title="刪除/移除 相關指令"></a>刪除/移除 相關指令</h3><h4 id="跟-Image-相關"><a href="#跟-Image-相關" class="headerlink" title="跟 Image 相關"></a>跟 Image 相關</h4><ul>
<li>docker <u><strong>rmi</strong></u><ul>
<li>如果 <code>rm</code> 與 <code>rmi</code> 傻傻分不清楚，你可以這樣記： <code>rmi</code> 就是 <u><strong>R</strong></u>e<u><strong>M</strong></u>ove <u><strong>I</strong></u>mage。</li>
</ul>
</li>
<li>docker <u><strong>image</strong></u> <u><strong>rm</strong></u><ul>
<li>這個比較直觀，可以這樣解讀： Docker 到 Images 裡 Remove 特定的 image</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 移除 demo:latest 的 image</span></div><div class="line"><span class="comment">## 當然也可以用 Image Id</span></div><div class="line">docker rmi demo:latest</div><div class="line"></div><div class="line"><span class="comment">## 移除所有 UNTAGGED 的 image</span></div><div class="line">docker rmi $(docker images --filter <span class="string">"dangling=true"</span> -q)</div><div class="line"></div><div class="line"><span class="comment">## 移除所有開頭是 demo 的 image</span></div><div class="line">docker rmi $(docker images --filter=reference=<span class="string">'demo*'</span> -q)</div></pre></td></tr></table></figure>
<h4 id="跟-Container-相關"><a href="#跟-Container-相關" class="headerlink" title="跟 Container 相關"></a>跟 Container 相關</h4><p>先註解 Kill 跟 Stop 的差別：</p>
<blockquote>
<p>kill是不管容器同不同意，我直接执行kill -9，强行终止；<br>stop的话，首先给容器发送一个TERM信号，让容器做一些退出前必须的保护性、安全性操作，<br>然后让容器自动停止运行，如果在一段时间内，容器还是没有停止，再进行kill -9，强行终止。<br>– Refer to <a href="http://dockone.io/question/158" target="_blank" rel="external">http://dockone.io/question/158</a></p>
</blockquote>
<ul>
<li><p>Kill v.s. Stop</p>
<ul>
<li>docker <u><strong>kill</strong></u></li>
<li>docker <u><strong>container</strong></u> <u><strong>kill</strong></u></li>
<li>docker <u><strong>stop</strong></u></li>
<li>docker <u><strong>container</strong></u> <u><strong>stop</strong></u></li>
</ul>
</li>
<li><p>執行 Remove 前，需先將 Container 停止。</p>
<ul>
<li>docker <u><strong>rm</strong></u></li>
<li>docker <u><strong>container</strong></u> <u><strong>rm</strong></u></li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 將所有 Container 殺掉</span></div><div class="line">docker <span class="built_in">kill</span> $(docker ps -q)</div><div class="line"></div><div class="line"><span class="comment">## 將所有 Container 移除</span></div><div class="line">docker rm $(docker ps <span class="_">-a</span> -q)</div></pre></td></tr></table></figure>
<h3 id="docker-save"><a href="#docker-save" class="headerlink" title="docker save"></a>docker save</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 將 demo:latest 的 image archive 成 demo.tar</span></div><div class="line">docker save -o <span class="string">".\demo.tar"</span> demo:latest</div></pre></td></tr></table></figure>
<h3 id="docker-load"><a href="#docker-load" class="headerlink" title="docker load"></a>docker load</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## Load an image from a archive file</span></div><div class="line">docker load -i demo.tar</div></pre></td></tr></table></figure>
<h3 id="docker-run"><a href="#docker-run" class="headerlink" title="docker run"></a>docker run</h3><p>參數說明：</p>
<ul>
<li><code>--restart</code>：Restart policy to apply when a container exits<ul>
<li><code>unless-stopped</code><ul>
<li>不管退出 exit status 是什麽，始終重啟 container。</li>
<li>當 daemon 啟動時，如果 container 之前已經是停止的狀態，就不要嘗試啟動。</li>
</ul>
</li>
</ul>
</li>
<li><code>-d</code>：Run container in background and print container ID</li>
<li><code>-i</code> + <code>-t</code> or <code>-it</code>：Allocate pseudo-TTY</li>
<li><code>-d</code>：Publish a container’s port(s) to the host</li>
<li><code>--name</code>： Assign a name to the container</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## 我要啟動一個名稱為 demo 的 Container。</span></div><div class="line"><span class="comment">## 設定當 Docker Daemon 重啟時，demo 也要跟著重啟。</span></div><div class="line"><span class="comment">## 我要 demo 有 虛擬終端pty，然後在啟動 demo 後，demo 在背景執行就可以了。</span></div><div class="line"><span class="comment">## Container 來源是 demo:latest 這個 image</span></div><div class="line">docker run --restart=unless-stopped -idt -p 8080:80 --name demo demo:latest</div></pre></td></tr></table></figure>
<h3 id="docker-exec"><a href="#docker-exec" class="headerlink" title="docker exec"></a>docker exec</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## Execute an interactive bash shell on a container, which is called demo.</span></div><div class="line">docker <span class="built_in">exec</span> -it demo /bin/bash</div></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://docs.docker.com/" target="_blank" rel="external">Docker Documentation</a></li>
<li><a href="http://dockone.io/question/158" target="_blank" rel="external">docker kill 和 stop 有什么区别</a></li>
<li><a href="https://www.centos.bz/2017/01/docker-run-restart-policy/" target="_blank" rel="external">Docker run参考(7) – Restart策略(–restart)</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;記錄一些會常用到的指令&lt;/p&gt;
&lt;p&gt;在講其他指令之前，先記錄一件事情，有什麼不懂的指令，&lt;br&gt;只需要在 docker command 後面加上 &lt;code&gt;--help&lt;/code&gt; 就會有說明可以參考。&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Docker" scheme="http://ajdfajdfl2003.github.io/categories/Note/Docker/"/>
    
    
      <category term="note" scheme="http://ajdfajdfl2003.github.io/tags/note/"/>
    
      <category term="docker" scheme="http://ajdfajdfl2003.github.io/tags/docker/"/>
    
      <category term="command" scheme="http://ajdfajdfl2003.github.io/tags/command/"/>
    
  </entry>
  
  <entry>
    <title>Lambda Expression 的學習筆記</title>
    <link href="http://ajdfajdfl2003.github.io/2017/05/07/LambdaExpressionLearningNote/"/>
    <id>http://ajdfajdfl2003.github.io/2017/05/07/LambdaExpressionLearningNote/</id>
    <published>2017-05-07T14:19:58.000Z</published>
    <updated>2017-06-05T02:28:01.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>上課筆記：<a href="https://www.udemy.com/csharp-advanced/learn/v4/" target="_blank" rel="external">C# Advanced Topics: Take Your C＃ Skills to the Next Level</a></p>
</blockquote>
<h1 id="Lambda-Expression"><a href="#Lambda-Expression" class="headerlink" title="Lambda Expression"></a>Lambda Expression</h1><ul>
<li>It is an anonymous method （匿名函式）.<ul>
<li>No access modifier</li>
<li>No name</li>
<li>No return statement</li>
</ul>
</li>
</ul>
<a id="more"></a>
<h2 id="情境一：經驗值加倍"><a href="#情境一：經驗值加倍" class="headerlink" title="情境一：經驗值加倍"></a>情境一：經驗值加倍</h2><h3 id="Normal-case"><a href="#Normal-case" class="headerlink" title="Normal case"></a>Normal case</h3><p>現在我們有一個 劍士，再開啟經驗值加倍後，可以獲得多少經驗值</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Warrior</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> _exp;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> Exp</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="keyword">this</span>._exp; &#125;</div><div class="line">        <span class="keyword">set</span> &#123; <span class="keyword">this</span>._exp += <span class="keyword">value</span>; &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">var</span> character = <span class="keyword">new</span> Warrior();</div><div class="line"></div><div class="line">        <span class="keyword">var</span> rewardExp = <span class="number">100</span>;</div><div class="line">        character.Exp = DoubleExp(rewardExp);</div><div class="line">        Console.WriteLine(</div><div class="line">            <span class="string">$@"獲得 100 經驗值後，目前角色有<span class="subst">&#123;character.Exp&#125;</span>。"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">DoubleExp</span>(<span class="params"><span class="keyword">int</span> exp</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> exp * <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Lambda-expression"><a href="#Lambda-expression" class="headerlink" title="Lambda expression"></a>Lambda expression</h3><p>那我們可以怎麼用 Lambda 來表示？ 在 <a href="https://docs.microsoft.com/zh-tw/dotnet/articles/csharp/programming-guide/statements-expressions-operators/lambda-expressions" target="_blank" rel="external">MSDN</a> 中有提到：</p>
<blockquote>
<p>「若要建立 Lambda 運算式，請在 Lambda 運算子 =&gt; 的左邊指定輸入參數 (如果有的話)，並將運算式或陳述式區塊放在另一邊。」</p>
</blockquote>
<p>白話一點，就是「 args =&gt; expression 」，課程中有說明你可以這樣念「 args goes to expression」。</p>
<p>那我們該怎麼使用這個 Lambda expression ？ <strong>我們搭配 delegate 來完成情境</strong></p>
<ul>
<li>Func<ul>
<li>輸入參數可以從 無參數 到 十六個參數</li>
<li>return value</li>
</ul>
</li>
<li>Action<ul>
<li>輸入參數可以從 無參數 到 十六個參數</li>
<li>return void</li>
</ul>
</li>
</ul>
<p>那麼我們在這個情境中，我們需要的是 <strong>Func</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">var</span> character = <span class="keyword">new</span> Warrior();</div><div class="line"></div><div class="line">        <span class="keyword">var</span> rewardExp = <span class="number">100</span>;</div><div class="line"></div><div class="line">        <span class="comment">//character.Exp = DoubleExp(rewardExp);</span></div><div class="line">        Func&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; doubleExp = exp =&gt; exp * <span class="number">2</span>;</div><div class="line">        character.Exp = doubleExp(rewardExp);</div><div class="line"></div><div class="line">        Console.WriteLine(</div><div class="line">            <span class="string">$@"獲得 100 經驗值後，目前角色有<span class="subst">&#123;character.Exp&#125;</span>。"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>透過 <a href="https://www.jetbrains.com/resharper/" target="_blank" rel="external">ReSharper</a> 我們可以將多餘的方法移除。<br><strong><u>（方法名稱反灰，代表它是 Unused 的）</u></strong></p>
<p>那如果是沒有參數的話，就這樣表示就好：<strong><u>（）＝&gt; expression</u></strong></p>
<p>那多個參數，就是：<strong><u>（x, y）＝&gt; expression</u></strong></p>
<h2 id="情境二：在包包找物品"><a href="#情境二：在包包找物品" class="headerlink" title="情境二：在包包找物品"></a>情境二：在包包找物品</h2><p>現在我們有一個 劍士，包包內有一堆東西，我要找出物品的稀有度是 3 的物品，準備要把它們賣掉。</p>
<h3 id="Normal-case-1"><a href="#Normal-case-1" class="headerlink" title="Normal case"></a>Normal case</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">var</span> character = <span class="keyword">new</span> Warrior();</div><div class="line"></div><div class="line">        <span class="keyword">var</span> findTooCommonItem =</div><div class="line">          character.Backpack.FindAll(IsRarityLessThenFour);</div><div class="line">        Console.WriteLine();</div><div class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> findTooCommonItem)</div><div class="line">        &#123;</div><div class="line">            Console.WriteLine(</div><div class="line">                <span class="string">$@"名稱：<span class="subst">&#123;item.Name&#125;</span>，稀有度：<span class="subst">&#123;item.Rarity&#125;</span>"</span>);</div><div class="line">            Console.WriteLine(<span class="string">""</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">IsRarityLessThenFour</span>(<span class="params">Item item</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> item.Rarity &lt; <span class="number">4</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我們看一下 <a href="https://msdn.microsoft.com/zh-tw/library/x0b5b5bc(v=vs.110" target="_blank" rel="external">List<t>.Find 方法 (Predicate<t>) from MSDN</t></t></a>.aspx) 中的說明：</p>
<ul>
<li>Predicate of T 它其實是 delegate method，這個 method 會判斷 List of T 中的 element 是否有符合條件的，如果是，就回傳該 element。</li>
<li>而在 List of T 的 Find method 中，它會找到第一個符合條件的 element。</li>
</ul>
<p>ok！ 了解了什麼是 Predicate 之後，那我們還可以怎麼修改，讓它變成 Lambda expression ～</p>
<h3 id="Lambda-expression-1"><a href="#Lambda-expression-1" class="headerlink" title="Lambda expression"></a>Lambda expression</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">var</span> character = <span class="keyword">new</span> Warrior();</div><div class="line"></div><div class="line">        <span class="comment">// 我們可以這樣解讀：我要在 character 的 背包裡面，</span></div><div class="line">        <span class="comment">// 找尋所有 「物品」的稀有度 是在 4 以下的。</span></div><div class="line">        <span class="keyword">var</span> findTooCommonItem =</div><div class="line">          character.Backpack.FindAll(item =&gt; item.Rarity &lt; <span class="number">4</span>);</div><div class="line"></div><div class="line">        Console.WriteLine();</div><div class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> findTooCommonItem)</div><div class="line">        &#123;</div><div class="line">            Console.WriteLine(</div><div class="line">                <span class="string">$@"名稱：<span class="subst">&#123;item.Name&#125;</span>，稀有度：<span class="subst">&#123;item.Rarity&#125;</span>"</span>);</div><div class="line">            Console.WriteLine(<span class="string">""</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看，精簡了許多。</p>
<h2 id="See-also"><a href="#See-also" class="headerlink" title="See also"></a>See also</h2><ul>
<li><a href="https://docs.microsoft.com/zh-tw/dotnet/articles/csharp/programming-guide/statements-expressions-operators/lambda-expressions" target="_blank" rel="external">Lambda 運算式 (C# 程式設計手冊) from MSDN</a></li>
<li><a href="http://blog.darkthread.net/post-2008-06-13-lambda-expression.aspx" target="_blank" rel="external">C# 3.0 極簡風 - Lambda Expression from 黑暗執行緒</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;上課筆記：&lt;a href=&quot;https://www.udemy.com/csharp-advanced/learn/v4/&quot;&gt;C# Advanced Topics: Take Your C＃ Skills to the Next Level&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Lambda-Expression&quot;&gt;&lt;a href=&quot;#Lambda-Expression&quot; class=&quot;headerlink&quot; title=&quot;Lambda Expression&quot;&gt;&lt;/a&gt;Lambda Expression&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;It is an anonymous method （匿名函式）.&lt;ul&gt;
&lt;li&gt;No access modifier&lt;/li&gt;
&lt;li&gt;No name&lt;/li&gt;
&lt;li&gt;No return statement&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="C＃" scheme="http://ajdfajdfl2003.github.io/categories/Note/C%EF%BC%83/"/>
    
    
      <category term="note" scheme="http://ajdfajdfl2003.github.io/tags/note/"/>
    
      <category term="c#" scheme="http://ajdfajdfl2003.github.io/tags/c/"/>
    
      <category term="lambdaexpression" scheme="http://ajdfajdfl2003.github.io/tags/lambdaexpression/"/>
    
  </entry>
  
  <entry>
    <title>Delegates 的學習筆記</title>
    <link href="http://ajdfajdfl2003.github.io/2017/05/01/DelegatesLearningNote/"/>
    <id>http://ajdfajdfl2003.github.io/2017/05/01/DelegatesLearningNote/</id>
    <published>2017-05-01T13:26:26.000Z</published>
    <updated>2017-06-05T02:31:17.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>上課筆記：<a href="https://www.udemy.com/csharp-advanced/learn/v4/" target="_blank" rel="external">C# Advanced Topics: Take Your C＃ Skills to the Next Level</a></p>
</blockquote>
<h1 id="Delegates"><a href="#Delegates" class="headerlink" title="Delegates"></a>Delegates</h1><ul>
<li>An object that knows how to call a method (or a group of methods)<ul>
<li>在 invocationList 中可以看到要委派的 Method</li>
<li>而因為 delegate 是繼承 System.MulticastDelegate，因此可以知道說我們要委派給誰</li>
</ul>
</li>
<li>A reference to a function</li>
</ul>
<a id="more"></a>
<h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><ul>
<li>在設計應用程式時更具有擴充性以及彈性。</li>
<li>讓使用的人可以不需要再重新編譯原本的 Library 的情況下，還能增加需要的功能（方法）。</li>
</ul>
<h2 id="情境"><a href="#情境" class="headerlink" title="情境"></a>情境</h2><p>我們現在有一個照片的處理程序，他可以套用不同的濾鏡</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 相片類別</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Photo</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Photo <span class="title">Load</span>(<span class="params"><span class="keyword">string</span> path</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Photo();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Save</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 相片濾鏡類別</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PhotoFilters</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ApplyBrightness</span>(<span class="params">Photo photo</span>)</span></div><div class="line">    &#123;</div><div class="line">        Console.WriteLine(<span class="string">"Apply Brightness !!!"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ApplyContrast</span>(<span class="params">Photo photo</span>)</span></div><div class="line">    &#123;</div><div class="line">        Console.WriteLine(<span class="string">"Apply Contrast !!!"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Resize</span>(<span class="params">Photo photo</span>)</span></div><div class="line">    &#123;</div><div class="line">        Console.WriteLine(<span class="string">"Resize Photo !!!"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 處理相片程序的類別</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PhotoProcessor</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Process</span>(<span class="params"><span class="keyword">string</span> path</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">var</span> photo = Photo.Load(path);</div><div class="line"></div><div class="line">        <span class="keyword">var</span> filters = <span class="keyword">new</span> PhotoFilters();</div><div class="line">        filters.ApplyBrightness(photo);</div><div class="line">        filters.ApplyContrast(photo);</div><div class="line">        filters.Resize(photo);</div><div class="line"></div><div class="line">        photo.Save();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 來處理一下照片</span></div><div class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> process = <span class="keyword">new</span> PhotoProcessor();</div><div class="line">            process.Process(<span class="string">"photo.jpg"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>上述的程式碼，<u>從設計上來看 <strong>PhotoProcessor</strong> 裡面在套用濾鏡 <strong>PhotoFilters</strong>，它不具有太大的可動性（彈性），也就是說我如果要在同一個應用程式使用不同的濾鏡，我就必須寫另一個 PhotoProcessor，更甚者，重新修改原本的 PhotoProcessor</u>，那我們可以怎麼透過 delegate 來讓他具有可動性（彈性）呢？ <strong><u><em>在 PhotoProcessor 中動手</em></u></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 修改 相片程序的類別</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PhotoProcessor</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 增加下面這行。</span></div><div class="line">        <span class="comment">// 在前面有提到，宣告 delegate 的時候，我們需要定義要委派的簽章，情境中，我們需要讓</span></div><div class="line">        <span class="comment">// 在使用 PhotoProcessor 的時候，可以自由的選擇要使用的濾鏡。</span></div><div class="line">        <span class="comment">// 也就是說，在使用的時候，我們會利用這個 delegate 指向我們要用的 method 或者是</span></div><div class="line">        <span class="comment">// a group of method</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">delegate</span> <span class="keyword">void</span> <span class="title">PhotoFilterHandler</span>(<span class="params">Photo photo</span>)</span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Process</span>(<span class="params"><span class="keyword">string</span> path, PhotoFilterHandler filterHandler</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> photo = Photo.Load(path);</div><div class="line"></div><div class="line">            <span class="comment">//var filters = new PhotoFilters();</span></div><div class="line">            <span class="comment">//filters.ApplyBrightness(photo);</span></div><div class="line">            <span class="comment">//filters.ApplyContrast(photo);</span></div><div class="line">            <span class="comment">//filters.Resize(photo);</span></div><div class="line">            <span class="comment">// 增加下面這行，並移除上面四行。</span></div><div class="line">            <span class="comment">// 代表編譯的時候，我們並不知道它會套用哪個 filter</span></div><div class="line">            <span class="comment">// 完全由用的人決定。</span></div><div class="line">            filterHandler(photo);</div><div class="line"></div><div class="line">            photo.Save();</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 來處理一下照片</span></div><div class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> process = <span class="keyword">new</span> PhotoProcessor();</div><div class="line">            <span class="comment">// 增加下面兩行</span></div><div class="line">            <span class="keyword">var</span> filters = <span class="keyword">new</span> PhotoFilters();</div><div class="line">            PhotoProcessor.PhotoFilterHandler filterHandler = filters.ApplyBrightness;</div><div class="line">            <span class="comment">// 將 filterHandler 傳回 Process</span></div><div class="line">            <span class="comment">// 讓 Process 知道有哪些 filter 要處理</span></div><div class="line">            <span class="comment">// 這就是讓 要用的人決定要使用哪些 filter</span></div><div class="line">            process.Process(<span class="string">"photo.jpg"</span>, filterHandler);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>那如果要在加另外一個 filter 呢？</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 來處理一下照片</span></div><div class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> process = <span class="keyword">new</span> PhotoProcessor();</div><div class="line">            <span class="keyword">var</span> filters = <span class="keyword">new</span> PhotoFilters();</div><div class="line">            PhotoProcessor.PhotoFilterHandler filterHandler = filters.ApplyBrightness;</div><div class="line">            <span class="comment">// 透過 += 或是 -= 來新增或者移除你的 delegate</span></div><div class="line">            filterHandler += filters.Resize;</div><div class="line">            process.Process(<span class="string">"photo.jpg"</span>, filterHandler);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>甚至是，我不要用 <strong>PhotoFilters</strong> 內的 filter 也行，我自己來新建一個</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 來處理一下照片</span></div><div class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> process = <span class="keyword">new</span> PhotoProcessor();</div><div class="line">            <span class="keyword">var</span> filters = <span class="keyword">new</span> PhotoFilters();</div><div class="line">            PhotoProcessor.PhotoFilterHandler filterHandler = filters.ApplyBrightness;</div><div class="line">            filterHandler += filters.Resize;</div><div class="line">            <span class="comment">// 一樣加到 filterHandler 上，讓他送進 Process v(￣︶￣)y</span></div><div class="line">            filterHandler += RemoveRedEyeFilter;</div><div class="line">            process.Process(<span class="string">"photo.jpg"</span>, filterHandler);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// 新增自己的 Filter</span></div><div class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RemoveRedEyeFilter</span>(<span class="params">Photo photo</span>)</span></div><div class="line">        &#123;</div><div class="line">            Console.WriteLine(<span class="string">"Apply Remove Red Eye Filter !!!"</span>);</div><div class="line">        &#125;    &#125;</div></pre></td></tr></table></figure>
<h2 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h2><ul>
<li>在 Delegate 中，方法的簽章要與 宣告 delegate 的簽章一樣，因次遇到需要傳入多種不同或是型別的參數時，勢必要寫出一堆 delegate。<ul>
<li>因此在 C＃2.0 開始，在 .Net Framework 內建了 Action、Func。</li>
<li>上述提到的 Action、Func，都是可以使用 Generic 的</li>
</ul>
</li>
</ul>
<p>在上述缺點有提到兩樣 Generic Delegate：Action 跟 Func</p>
<p>若把 Action 用在 上面的情境，可以這樣使用</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 修改 相片程序的類別</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PhotoProcessor</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 將原本的 **PhotoFilterHandler** 移除，換成 Action&lt;Photo&gt;</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Process</span>(<span class="params"><span class="keyword">string</span> path, Action&lt;Photo&gt; filterHandler</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> photo = Photo.Load(path);</div><div class="line"></div><div class="line">            filterHandler(photo);</div><div class="line"></div><div class="line">            photo.Save();</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 來處理一下照片</span></div><div class="line">    <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">var</span> process = <span class="keyword">new</span> PhotoProcessor();</div><div class="line">            <span class="keyword">var</span> filters = <span class="keyword">new</span> PhotoFilters();</div><div class="line">            <span class="comment">// 將原本的 **PhotoFilterHandler** 移除，換成 Action&lt;Photo&gt;</span></div><div class="line">            Action&lt;Photo&gt; filterHandler = filters.ApplyBrightness;</div><div class="line">            process.Process(<span class="string">"photo.jpg"</span>, filterHandler);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>那麼，跟 Delegate 有一樣的功效的解法是什麼？ <strong><u><em>Interface</em></u></strong></p>
<h2 id="Interfaces-or-Delegates"><a href="#Interfaces-or-Delegates" class="headerlink" title="Interfaces or Delegates"></a>Interfaces or Delegates</h2><p>那怎麼抉擇？ 這個因人而異啦～ 每個人都有自己的想法以及用法<br>不過在 <a href="https://msdn.microsoft.com/en-us/library/ms173173.aspx" target="_blank" rel="external">微軟的 MSDN</a> 有寫到，可以參考一下，這部份還沒有整理….</p>
<h2 id="See-also"><a href="#See-also" class="headerlink" title="See also"></a>See also</h2><ul>
<li><a href="http://huan-lin.blogspot.com/2009/01/delegate-revisited-csharp-1-to-2-to-3.html" target="_blank" rel="external">C# 筆記：重訪委派－從 C# 1.0 到 2.0 到 3.0</a></li>
<li><a href="http://johnniebooks.blogspot.tw/2011/02/function-pointer-delegate-event.html" target="_blank" rel="external">事件的深入分析(function pointer, delegate, event, EventHandler)</a></li>
<li><a href="http://www.cnblogs.com/miaomiaoga/articles/56186.html" target="_blank" rel="external">談談委派 (Delegate)</a></li>
<li><a href="http://blog.darkthread.net/post-2009-12-27-action-delegate.aspx" target="_blank" rel="external">Action<t> and Func<t></t></t></a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;上課筆記：&lt;a href=&quot;https://www.udemy.com/csharp-advanced/learn/v4/&quot;&gt;C# Advanced Topics: Take Your C＃ Skills to the Next Level&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Delegates&quot;&gt;&lt;a href=&quot;#Delegates&quot; class=&quot;headerlink&quot; title=&quot;Delegates&quot;&gt;&lt;/a&gt;Delegates&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;An object that knows how to call a method (or a group of methods)&lt;ul&gt;
&lt;li&gt;在 invocationList 中可以看到要委派的 Method&lt;/li&gt;
&lt;li&gt;而因為 delegate 是繼承 System.MulticastDelegate，因此可以知道說我們要委派給誰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;A reference to a function&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="C＃" scheme="http://ajdfajdfl2003.github.io/categories/Note/C%EF%BC%83/"/>
    
    
      <category term="note" scheme="http://ajdfajdfl2003.github.io/tags/note/"/>
    
      <category term="c#" scheme="http://ajdfajdfl2003.github.io/tags/c/"/>
    
      <category term="delegate" scheme="http://ajdfajdfl2003.github.io/tags/delegate/"/>
    
      <category term="action" scheme="http://ajdfajdfl2003.github.io/tags/action/"/>
    
      <category term="func" scheme="http://ajdfajdfl2003.github.io/tags/func/"/>
    
  </entry>
  
  <entry>
    <title>用 IEDriver 噴出 NoSuchWindowException</title>
    <link href="http://ajdfajdfl2003.github.io/2017/01/22/IEDriverWithNoSuchWindowException/"/>
    <id>http://ajdfajdfl2003.github.io/2017/01/22/IEDriverWithNoSuchWindowException/</id>
    <published>2017-01-22T11:54:02.000Z</published>
    <updated>2017-01-23T00:51:39.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<h1 id="情境"><a href="#情境" class="headerlink" title="情境"></a>情境</h1><p>在測試專案中執行測試，希望用開啟 IE 來執行測試的腳本</p>
<h1 id="遇到的問題"><a href="#遇到的問題" class="headerlink" title="遇到的問題"></a>遇到的問題</h1><p>遇到紅燈，看一下錯誤訊息：<br><img src="/2017/01/22/IEDriverWithNoSuchWindowException/exception.png" alt="exception.png" title=""> <br><br><a id="more"></a></p>
<h1 id="解決"><a href="#解決" class="headerlink" title="解決"></a>解決</h1><p>在 stackoverflow 上看到一個解法，它是說：<br>「<strong><em>Setting in internet explorer. Uncheck all (or Check all, must be the same for zones: Internet, Local intranet, Trusted sites, Restricted sites)</em></strong>」</p>
<ul>
<li>我只有把網際網路那邊的受保護模式 Uncheck，就可以 Work 了！<br><br><img src="/2017/01/22/IEDriverWithNoSuchWindowException/uncheck.png" alt="uncheck.png" title=""> <br></li>
</ul>
<h1 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h1><ul>
<li><a href="http://www.qaautomation.net/?p=373" target="_blank" rel="external">Getting started with Selenium 2 and WebDriver</a></li>
<li><a href="http://stackoverflow.com/a/40837196/6578107" target="_blank" rel="external">NoSuchWindowException was unhandled : Unable to find element on closed window. IE 11 - Selenium C#</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;h1 id=&quot;情境&quot;&gt;&lt;a href=&quot;#情境&quot; class=&quot;headerlink&quot; title=&quot;情境&quot;&gt;&lt;/a&gt;情境&lt;/h1&gt;&lt;p&gt;在測試專案中執行測試，希望用開啟 IE 來執行測試的腳本&lt;/p&gt;
&lt;h1 id=&quot;遇到的問題&quot;&gt;&lt;a href=&quot;#遇到的問題&quot; class=&quot;headerlink&quot; title=&quot;遇到的問題&quot;&gt;&lt;/a&gt;遇到的問題&lt;/h1&gt;&lt;p&gt;遇到紅燈，看一下錯誤訊息：&lt;br&gt;&lt;img src=&quot;/2017/01/22/IEDriverWithNoSuchWindowException/exception.png&quot; alt=&quot;exception.png&quot; title=&quot;&quot;&gt; &lt;br /&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Web Testing" scheme="http://ajdfajdfl2003.github.io/categories/Note/Web-Testing/"/>
    
      <category term="FluentAutomation" scheme="http://ajdfajdfl2003.github.io/categories/Note/Web-Testing/FluentAutomation/"/>
    
      <category term="Selenium" scheme="http://ajdfajdfl2003.github.io/categories/Note/Web-Testing/FluentAutomation/Selenium/"/>
    
    
      <category term="web" scheme="http://ajdfajdfl2003.github.io/tags/web/"/>
    
      <category term="testing" scheme="http://ajdfajdfl2003.github.io/tags/testing/"/>
    
      <category term="selenium" scheme="http://ajdfajdfl2003.github.io/tags/selenium/"/>
    
      <category term="iedriver" scheme="http://ajdfajdfl2003.github.io/tags/iedriver/"/>
    
      <category term="no" scheme="http://ajdfajdfl2003.github.io/tags/no/"/>
    
      <category term="such" scheme="http://ajdfajdfl2003.github.io/tags/such/"/>
    
      <category term="window" scheme="http://ajdfajdfl2003.github.io/tags/window/"/>
    
      <category term="exception" scheme="http://ajdfajdfl2003.github.io/tags/exception/"/>
    
      <category term="security" scheme="http://ajdfajdfl2003.github.io/tags/security/"/>
    
  </entry>
  
  <entry>
    <title>用 Selenium WebDriver Firefox 找不到 Firefox 的問題</title>
    <link href="http://ajdfajdfl2003.github.io/2017/01/19/unit-testing-selenium-with-cannotfind-firefox/"/>
    <id>http://ajdfajdfl2003.github.io/2017/01/19/unit-testing-selenium-with-cannotfind-firefox/</id>
    <published>2017-01-19T07:31:22.000Z</published>
    <updated>2017-01-23T01:08:13.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<h1 id="情境"><a href="#情境" class="headerlink" title="情境"></a>情境</h1><p>在測試專案中執行測試，希望用開啟 Firefox 來執行測試的腳本</p>
<h1 id="遇到的問題"><a href="#遇到的問題" class="headerlink" title="遇到的問題"></a>遇到的問題</h1><p>不僅僅遇到紅燈，測試也沒有正常運作<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">結果 StackTrace:</div><div class="line">於 OpenQA.Selenium.Firefox.Internal.Executable..ctor(String userSpecifiedBinaryPath)</div><div class="line">   於 OpenQA.Selenium.Firefox.FirefoxBinary..ctor(String pathToFirefoxBinary)</div><div class="line">   於 OpenQA.Selenium.Firefox.FirefoxDriver..ctor()</div><div class="line">   於 SeleniumTests.Loginfailed.SetupTest()</div><div class="line">結果訊息:</div><div class="line">   OpenQA.Selenium.WebDriverException:</div><div class="line">      OpenQA.Selenium.WebDriverException:</div><div class="line">         Cannot find Firefox binary in PATH or default install locations.</div><div class="line">         Make sure Firefox is installed. OS appears to be: Vista。</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h1 id="解決"><a href="#解決" class="headerlink" title="解決"></a>解決</h1><p>有兩種解決方法：</p>
<ul>
<li>第一種：指定 Firefox 主程式的路徑<figure class="highlight csharp"><table><tr><td class="code"><pre><div class="line">[TestInitialize]</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetupTest</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">    driver = <span class="keyword">new</span> FirefoxDriver(<span class="keyword">new</span> FirefoxBinary(<span class="string">@"C:\Program Files\Mozilla Firefox\firefox.exe"</span>), <span class="literal">null</span>);</div><div class="line">    baseURL = <span class="string">"http://localhost:29021/"</span>;</div><div class="line">    verificationErrors = <span class="keyword">new</span> StringBuilder();</div><div class="line">&#125;</div><div class="line">  </div></pre></td></tr></table></figure>
然後再執行測試：綠燈。</li>
<li>第二種：在系統環境變數中加入 Firefox 主程式的路徑<ol>
<li>把 <strong><code>C:\Program Files\Mozilla Firefox</code></strong> 加入到 <strong>PATH</strong> 的<strong>系統環境變數</strong>中</li>
<li>重開 Visual Studio 後重新執行測試：綠燈。</li>
</ol>
</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="http://stackoverflow.com/questions/38195243/path-error-visual-studio-selenium-webdriver#comment63815867_38195243" target="_blank" rel="external">PATH error visual studio Selenium WebDriver</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;h1 id=&quot;情境&quot;&gt;&lt;a href=&quot;#情境&quot; class=&quot;headerlink&quot; title=&quot;情境&quot;&gt;&lt;/a&gt;情境&lt;/h1&gt;&lt;p&gt;在測試專案中執行測試，希望用開啟 Firefox 來執行測試的腳本&lt;/p&gt;
&lt;h1 id=&quot;遇到的問題&quot;&gt;&lt;a href=&quot;#遇到的問題&quot; class=&quot;headerlink&quot; title=&quot;遇到的問題&quot;&gt;&lt;/a&gt;遇到的問題&lt;/h1&gt;&lt;p&gt;不僅僅遇到紅燈，測試也沒有正常運作&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;結果 StackTrace:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;於 OpenQA.Selenium.Firefox.Internal.Executable..ctor(String userSpecifiedBinaryPath)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   於 OpenQA.Selenium.Firefox.FirefoxBinary..ctor(String pathToFirefoxBinary)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   於 OpenQA.Selenium.Firefox.FirefoxDriver..ctor()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   於 SeleniumTests.Loginfailed.SetupTest()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;結果訊息:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   OpenQA.Selenium.WebDriverException:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      OpenQA.Selenium.WebDriverException:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         Cannot find Firefox binary in PATH or default install locations.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         Make sure Firefox is installed. OS appears to be: Vista。&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Web Testing" scheme="http://ajdfajdfl2003.github.io/categories/Note/Web-Testing/"/>
    
      <category term="Selenium" scheme="http://ajdfajdfl2003.github.io/categories/Note/Web-Testing/Selenium/"/>
    
    
      <category term="web" scheme="http://ajdfajdfl2003.github.io/tags/web/"/>
    
      <category term="testing" scheme="http://ajdfajdfl2003.github.io/tags/testing/"/>
    
      <category term="selenium" scheme="http://ajdfajdfl2003.github.io/tags/selenium/"/>
    
      <category term="exception" scheme="http://ajdfajdfl2003.github.io/tags/exception/"/>
    
      <category term="firefox" scheme="http://ajdfajdfl2003.github.io/tags/firefox/"/>
    
      <category term="webdriver" scheme="http://ajdfajdfl2003.github.io/tags/webdriver/"/>
    
      <category term="environment" scheme="http://ajdfajdfl2003.github.io/tags/environment/"/>
    
      <category term="path" scheme="http://ajdfajdfl2003.github.io/tags/path/"/>
    
  </entry>
  
  <entry>
    <title>使用 Owin Startup 時遇上的問題</title>
    <link href="http://ajdfajdfl2003.github.io/2016/12/10/use-owin-startup-should-notice/"/>
    <id>http://ajdfajdfl2003.github.io/2016/12/10/use-owin-startup-should-notice/</id>
    <published>2016-12-10T04:58:50.000Z</published>
    <updated>2017-01-19T08:26:55.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<h1 id="情境"><a href="#情境" class="headerlink" title="情境"></a>情境</h1><p>使用 <a href="https://www.asp.net/aspnet/overview/owin-and-katana/owin-startup-class-detection" target="_blank" rel="external">Owin Startup Class</a> 做到如果沒有經過驗證就會導到特定的頁面功能。 <br><br>測試的時候卻遇到找不到「<em><strong> /login.aspx </strong></em>」的現象。<br></p>
<a id="more"></a>
<img src="/2016/12/10/use-owin-startup-should-notice/error01.png" alt="error01.png" title=""> <br><br><img src="/2016/12/10/use-owin-startup-should-notice/error02.png" alt="error02.png" title="">
<p><br></p>
<h1 id="觀察"><a href="#觀察" class="headerlink" title="觀察"></a>觀察</h1><p>先檢查「Startup.cs」、「Startup.Auth.cs」檢查是否有放「<strong>OwinStartup Attribute</strong>」</p>
<figure class="highlight csharp"><figcaption><span>Startup.cs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[assembly: OwinStartup(<span class="keyword">typeof</span>(Login.Startup))]</div><div class="line"><span class="keyword">namespace</span> <span class="title">Login</span> &#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Startup</span> &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Configuration</span>(<span class="params">IAppBuilder app</span>) </span>&#123;</div><div class="line">            ConfigureAuth(app);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><figcaption><span>Startup.Auth.cs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Startup</span> &#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureAuth</span>(<span class="params">IAppBuilder app</span>) </span>&#123;</div><div class="line">        app.UseCookieAuthentication(<span class="keyword">new</span> CookieAuthenticationOptions &#123;</div><div class="line">            .</div><div class="line">            &lt;省略&gt;</div><div class="line">            .</div><div class="line">            LoginPath = <span class="keyword">new</span> PathString(<span class="string">"/Account/Login"</span>),   <span class="comment">//要導到的頁面是有放的！！！</span></div><div class="line">            .</div><div class="line">            &lt;省略&gt;</div><div class="line">            .</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看起來「Startup.cs」、「Startup.Auth.cs」都沒問題！ 所以到底是什麼原因讓它一直在尋找「<em><strong> /login.aspx </strong></em>」<br \=""><br>最後，在 <a href="http://www.cnblogs.com/jesse2013/p/aspnet-identity-claims-based-authentication-and-owin.html" target="_blank" rel="external">MVC5 - ASP.NET Identity登录原理 - Claims-based认证和OWIN</a> 看到一段文字。</p>
<blockquote>
<p>… VS还自动帮我们移除了FormsAuthenticationModule …</p>
</blockquote>
<p>找了一下資料，在這篇 <a href="https://www.asp.net/web-forms/overview/older-versions-security/introduction/forms-authentication-configuration-and-advanced-topics-cs" target="_blank" rel="external">Forms Authentication Configuration and Advanced Topics (C#)</a> 說明了：</p>
<blockquote>
<p>loginUrl - The URL of the login page. The default value is login.aspx.</p>
</blockquote>
<p>看起來是找到原因了！</p>
<h1 id="解決"><a href="#解決" class="headerlink" title="解決"></a>解決</h1><p>在 「<em><strong> Web.config </strong></em>」把「 <strong>FormsAuthenticationModule</strong> 」移掉！<br><figure class="highlight xml"><figcaption><span>Web.config</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">remove</span> <span class="attr">name</span>=<span class="string">"FormsAuthentication"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">remove</span> <span class="attr">name</span>=<span class="string">"FormsAuthenticationModule"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h1><ul>
<li><a href="http://blog.darkthread.net/post-2013-12-01-about-owin.aspx" target="_blank" rel="external">開發筆記-OWIN</a></li>
<li><a href="http://blog.darkthread.net/post-2013-12-02-add-owin-startup-class.aspx" target="_blank" rel="external">在專案新增OWIN Startup類別</a></li>
<li><a href="https://www.asp.net/web-forms/overview/older-versions-security/introduction/forms-authentication-configuration-and-advanced-topics-cs" target="_blank" rel="external">Forms Authentication Configuration and Advanced Topics (C#)</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/7t6b43z4%28v=vs.71%29.aspx?f=255&amp;MSPPError=-2147217396" target="_blank" rel="external">Using the FormsAuthenticationModule Class</a></li>
<li><a href="https://www.asp.net/aspnet/overview/owin-and-katana/owin-startup-class-detection" target="_blank" rel="external">OWIN Startup Class Detection</a></li>
<li><a href="http://www.cnblogs.com/jesse2013/p/aspnet-identity-claims-based-authentication-and-owin.html" target="_blank" rel="external">MVC5 - ASP.NET Identity登录原理 - Claims-based认证和OWIN</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;h1 id=&quot;情境&quot;&gt;&lt;a href=&quot;#情境&quot; class=&quot;headerlink&quot; title=&quot;情境&quot;&gt;&lt;/a&gt;情境&lt;/h1&gt;&lt;p&gt;使用 &lt;a href=&quot;https://www.asp.net/aspnet/overview/owin-and-katana/owin-startup-class-detection&quot;&gt;Owin Startup Class&lt;/a&gt; 做到如果沒有經過驗證就會導到特定的頁面功能。 &lt;br/&gt;&lt;br&gt;測試的時候卻遇到找不到「&lt;em&gt;&lt;strong&gt; /login.aspx &lt;/strong&gt;&lt;/em&gt;」的現象。&lt;br /&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="ASP.NET MVC" scheme="http://ajdfajdfl2003.github.io/categories/Note/ASP-NET-MVC/"/>
    
      <category term="Owin" scheme="http://ajdfajdfl2003.github.io/categories/Note/ASP-NET-MVC/Owin/"/>
    
    
      <category term="asp" scheme="http://ajdfajdfl2003.github.io/tags/asp/"/>
    
      <category term="mvc" scheme="http://ajdfajdfl2003.github.io/tags/mvc/"/>
    
      <category term="authentication" scheme="http://ajdfajdfl2003.github.io/tags/authentication/"/>
    
      <category term="owin" scheme="http://ajdfajdfl2003.github.io/tags/owin/"/>
    
      <category term="web.config" scheme="http://ajdfajdfl2003.github.io/tags/web-config/"/>
    
  </entry>
  
  <entry>
    <title>Elmah Log 中與 InvalidOperation 找不到 Error 相遇</title>
    <link href="http://ajdfajdfl2003.github.io/2016/10/04/asp-mvc-invalid-operation-500/"/>
    <id>http://ajdfajdfl2003.github.io/2016/10/04/asp-mvc-invalid-operation-500/</id>
    <published>2016-10-04T01:06:21.000Z</published>
    <updated>2017-01-19T08:31:56.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<h1 id="ISSUE"><a href="#ISSUE" class="headerlink" title="ISSUE"></a>ISSUE</h1><p>前陣子在玩 <a href="https://jeffprogrammer.wordpress.com/2015/12/05/asp-net-mvc-%E7%9B%A3%E6%8E%A7%E7%B3%BB%E7%B5%B1%E5%81%A5%E5%BA%B7-elmah-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/" target="_blank" rel="external">ELMAH</a> ，使用後觀察發現了下面這個錯誤 <br><br><img src="/2016/10/04/asp-mvc-invalid-operation-500/invalidoperation.png" alt="invalidoperation.png" title=""><br></p>
<a id="more"></a>
<h1 id="觀察"><a href="#觀察" class="headerlink" title="觀察"></a>觀察</h1><p>經過幾次觀察，發現只有在 <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="external">HTTP status codes</a> 是 500 的時候才會有這個 Error Log，與此之前，我也是檢查了 Error Page 那邊的 Route，也無不妥。</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>經過 Research 後，解決方法有二：</p>
<ul>
<li>在「/Views/Shared/」目錄底下新增一個 View -「 Error.cshtml 」，這是最簡單的解法，此為其一也。</li>
<li><a href="http://kevintsengtw.blogspot.tw/2013/01/aspnet-mvc-validateantiforgerytoken.html" target="_blank" rel="external">ASP.NET MVC - ValidateAntiForgeryToken 與 自定 HandleError 處理顯示客製的錯誤訊息頁</a>，此篇文章內我還沒有實際實作，<br>不過應該是可以更改預設的路徑讓其引導到自己所指定的路徑底下，此為其二也。</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="http://kevintsengtw.blogspot.tw/2013/01/aspnet-mvc-validateantiforgerytoken.html" target="_blank" rel="external">ASP.NET MVC - ValidateAntiForgeryToken 與 自定 HandleError 處理顯示客製的錯誤訊息頁</a></li>
<li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2285432.html" target="_blank" rel="external">大叔手记（6）：巧用ASP.net MVC3里的HandleErrorAttribute</a></li>
<li><a href="http://www.eidias.com/blog/2014/7/2/mvc-custom-error-pages" target="_blank" rel="external">MVC custom error pages</a></li>
<li><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="external">List of HTTP status codes</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;h1 id=&quot;ISSUE&quot;&gt;&lt;a href=&quot;#ISSUE&quot; class=&quot;headerlink&quot; title=&quot;ISSUE&quot;&gt;&lt;/a&gt;ISSUE&lt;/h1&gt;&lt;p&gt;前陣子在玩 &lt;a href=&quot;https://jeffprogrammer.wordpress.com/2015/12/05/asp-net-mvc-%E7%9B%A3%E6%8E%A7%E7%B3%BB%E7%B5%B1%E5%81%A5%E5%BA%B7-elmah-%E4%BD%BF%E7%94%A8%E7%B4%80%E9%8C%84/&quot;&gt;ELMAH&lt;/a&gt; ，使用後觀察發現了下面這個錯誤 &lt;br /&gt;&lt;br&gt;&lt;img src=&quot;/2016/10/04/asp-mvc-invalid-operation-500/invalidoperation.png&quot; alt=&quot;invalidoperation.png&quot; title=&quot;&quot;&gt;&lt;br /&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="ASP.NET MVC" scheme="http://ajdfajdfl2003.github.io/categories/Note/ASP-NET-MVC/"/>
    
      <category term="Exception" scheme="http://ajdfajdfl2003.github.io/categories/Note/ASP-NET-MVC/Exception/"/>
    
    
      <category term="exception" scheme="http://ajdfajdfl2003.github.io/tags/exception/"/>
    
      <category term="asp" scheme="http://ajdfajdfl2003.github.io/tags/asp/"/>
    
      <category term="mvc" scheme="http://ajdfajdfl2003.github.io/tags/mvc/"/>
    
      <category term="custom" scheme="http://ajdfajdfl2003.github.io/tags/custom/"/>
    
      <category term="error" scheme="http://ajdfajdfl2003.github.io/tags/error/"/>
    
      <category term="http" scheme="http://ajdfajdfl2003.github.io/tags/http/"/>
    
      <category term="status" scheme="http://ajdfajdfl2003.github.io/tags/status/"/>
    
      <category term="code" scheme="http://ajdfajdfl2003.github.io/tags/code/"/>
    
      <category term="500" scheme="http://ajdfajdfl2003.github.io/tags/500/"/>
    
      <category term="elmah" scheme="http://ajdfajdfl2003.github.io/tags/elmah/"/>
    
      <category term="invalidoperation" scheme="http://ajdfajdfl2003.github.io/tags/invalidoperation/"/>
    
      <category term="invalid" scheme="http://ajdfajdfl2003.github.io/tags/invalid/"/>
    
      <category term="operation" scheme="http://ajdfajdfl2003.github.io/tags/operation/"/>
    
  </entry>
  
  <entry>
    <title>DevExpress - KnockoutJS 的 日期問題</title>
    <link href="http://ajdfajdfl2003.github.io/2016/07/23/KnockoutJS-ISSUE-In-Devexpress-I/"/>
    <id>http://ajdfajdfl2003.github.io/2016/07/23/KnockoutJS-ISSUE-In-Devexpress-I/</id>
    <published>2016-07-23T09:26:37.000Z</published>
    <updated>2017-06-05T03:30:19.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<p>這次拿 <a href="https://demos.devexpress.com/MVCxReportDemos/Overview" target="_blank" rel="external">DevExpress - Report</a> 來做報表檢視，使用它裡面的 <a href="https://documentation.devexpress.com/#XtraReports/CustomDocument10000" target="_blank" rel="external">Parameter Editors</a> 做參數查詢。<br\></br\></p>
<h1 id="ISSUE"><a href="#ISSUE" class="headerlink" title="ISSUE"></a>ISSUE</h1><p>在使用的過程中遇到了一個狀況：</p>
<ul>
<li>當你直接修改 Text Field 後並按下 Submit 後，會發現資料沒有更新，需要再按第二次的 Submit 後，資料才會更新。<br><br><img src="/2016/07/23/KnockoutJS-ISSUE-In-Devexpress-I/twice-1.gif" alt="twice-1.gif" title=""><br></li>
</ul>
<a id="more"></a>
<h1 id="觀察"><a href="#觀察" class="headerlink" title="觀察"></a>觀察</h1><p>一開始在想是不是因為我直接修改文字的關係，所以就乖乖的一個日期一個日期選擇。<br><br><img src="/2016/07/23/KnockoutJS-ISSUE-In-Devexpress-I/once.gif" alt="once.gif" title=""><br><br>發現：結果正常。<br></p>
<h2 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h2><p>看一下原始碼<br><br><img src="/2016/07/23/KnockoutJS-ISSUE-In-Devexpress-I/source.png" alt="source.png" title=""><br></p>
<ul>
<li>第一個就想到會不會是「value.extend」那邊出問題。<br></li>
</ul>
<h2 id="Official-Document"><a href="#Official-Document" class="headerlink" title="Official Document"></a>Official Document</h2><ul>
<li><a href="http://knockoutjs.com/documentation/throttle-extender.html" target="_blank" rel="external">官方文件說明：</a><br><strong>The “throttle” extender</strong><ul>
<li><blockquote>
<p><em>Note: This throttle API is deprecated as of Knockout 3.1.0. Please use the rateLimit extender for similar functionality.</em><br></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h2 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h2><p>檢查了一下版本</p>
<ul>
<li>DevExpress v16.1.4</li>
<li>knockout-3.4.0.js</li>
</ul>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>解決方法有二：</p>
<ol>
<li>把 <a href="http://knockoutjs.com/downloads/index.html" target="_blank" rel="external">knockout.js</a> 版本換成 3.1.0 版本</li>
<li>在 <a href="https://documentation.devexpress.com/#XtraReports/DevExpressXtraReportsWebScriptsASPxClientWebDocumentViewer_CustomizeParameterEditorstopic" target="_blank" rel="external">ClientSideEvents.CustomizeParameterEditors</a> 中，將預設的 Bind 改成我們自己的<br><figure class="highlight csharp"><figcaption><span>Demo.cshtml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@&#123;</div><div class="line">    <span class="keyword">var</span> viewer = Html.DevExpress().WebDocumentViewer(settings =&gt; &#123;</div><div class="line">      .</div><div class="line">      &lt;省略&gt;</div><div class="line">      .</div><div class="line">        settings.ClientSideEvents.CustomizeParameterEditors = <span class="string">"OnCustomizaParameters"</span>;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><figcaption><span>Demo.cshtml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/html"</span> <span class="attr">id</span>=<span class="string">"dx-date-parameter"</span>&gt;</span><span class="xml"></span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-bind</span>=<span class="string">"dxDateBox: &#123;</span></span></div><div class="line">      value: value.extend(&#123; rateLimit: 500 &#125;),</div><div class="line">      closeOnValueChange: true, type: 'date',</div><div class="line">      disabled: disabled &#125;,</div><div class="line">      dxValidator: &#123; validationRules: validationRules || [] &#125;"&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">  function OnCustomizaParameters(s, e) &#123;</div><div class="line">      if (e.parameter.type === 'System.DateTime') &#123;//use a suitable condition</div><div class="line">          e.info.editor.header = 'dx-date-parameter';</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>將原本的「dx-date」改成我們自己的「dx-date-parameter」。<br></li>
</ul>
</li>
</ol>
<p>Problem Solved !</p>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;p&gt;這次拿 &lt;a href=&quot;https://demos.devexpress.com/MVCxReportDemos/Overview&quot;&gt;DevExpress - Report&lt;/a&gt; 來做報表檢視，使用它裡面的 &lt;a href=&quot;https://documentation.devexpress.com/#XtraReports/CustomDocument10000&quot;&gt;Parameter Editors&lt;/a&gt; 做參數查詢。&lt;br\&gt;&lt;/p&gt;
&lt;h1 id=&quot;ISSUE&quot;&gt;&lt;a href=&quot;#ISSUE&quot; class=&quot;headerlink&quot; title=&quot;ISSUE&quot;&gt;&lt;/a&gt;ISSUE&lt;/h1&gt;&lt;p&gt;在使用的過程中遇到了一個狀況：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;當你直接修改 Text Field 後並按下 Submit 後，會發現資料沒有更新，需要再按第二次的 Submit 後，資料才會更新。&lt;br /&gt;&lt;br&gt;&lt;img src=&quot;/2016/07/23/KnockoutJS-ISSUE-In-Devexpress-I/twice-1.gif&quot; alt=&quot;twice-1.gif&quot; title=&quot;&quot;&gt;&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="DevExpress" scheme="http://ajdfajdfl2003.github.io/categories/Note/DevExpress/"/>
    
      <category term="Knockout" scheme="http://ajdfajdfl2003.github.io/categories/Note/DevExpress/Knockout/"/>
    
    
      <category term="devexpress" scheme="http://ajdfajdfl2003.github.io/tags/devexpress/"/>
    
      <category term="knockout" scheme="http://ajdfajdfl2003.github.io/tags/knockout/"/>
    
      <category term="knockoutjs" scheme="http://ajdfajdfl2003.github.io/tags/knockoutjs/"/>
    
      <category term="issue" scheme="http://ajdfajdfl2003.github.io/tags/issue/"/>
    
      <category term="twice" scheme="http://ajdfajdfl2003.github.io/tags/twice/"/>
    
      <category term="click" scheme="http://ajdfajdfl2003.github.io/tags/click/"/>
    
      <category term="extender" scheme="http://ajdfajdfl2003.github.io/tags/extender/"/>
    
      <category term="throttle" scheme="http://ajdfajdfl2003.github.io/tags/throttle/"/>
    
      <category term="deprecated" scheme="http://ajdfajdfl2003.github.io/tags/deprecated/"/>
    
      <category term="rateLimit" scheme="http://ajdfajdfl2003.github.io/tags/rateLimit/"/>
    
  </entry>
  
  <entry>
    <title>DevExpress - 在 GridView 中自訂顯示文字</title>
    <link href="http://ajdfajdfl2003.github.io/2016/04/24/devexpress-gridview-display/"/>
    <id>http://ajdfajdfl2003.github.io/2016/04/24/devexpress-gridview-display/</id>
    <published>2016-04-24T07:37:26.000Z</published>
    <updated>2017-01-19T08:32:52.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<p>分享一些最近使用 <a href="https://www.devexpress.com" target="_blank" rel="external">DevExpress</a> 元件中的幾個用法。</p>
<h1 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h1><p>假設</p>
<blockquote>
<p>一個類別(Category)有多種商品(Product)</p>
</blockquote>
<p>在 <strong>Product</strong> 的 <a href="https://demos.devexpress.com/MVCxGridViewDemos/" target="_blank" rel="external">Grid View</a> 內需要顯示 <strong>Category</strong> 的名稱，而 <strong>Product</strong> 資料表內只有存放 <strong>Category 的 id</strong><br><img src="/2016/04/24/devexpress-gridview-display/product.png" alt="product.png" title="">，那我們怎麼在顯示的時候是 <strong><em>name</em></strong>，存放的時候是 <strong><em>id</em></strong> 呢？</p>
<a id="more"></a>
<h1 id="起手式"><a href="#起手式" class="headerlink" title="起手式"></a>起手式</h1><h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p>那麼我們 <strong>Model</strong> 部分會是</p>
<h3 id="Category-cs"><a href="#Category-cs" class="headerlink" title="Category.cs"></a>Category.cs</h3><figure class="highlight csharp"><figcaption><span>Category.cs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Category</span> &#123;</div><div class="line">  [Key]</div><div class="line">  <span class="keyword">public</span> <span class="keyword">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">  <span class="keyword">public</span> ICollection&lt;Product&gt; Products &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Product-cs"><a href="#Product-cs" class="headerlink" title="Product.cs"></a>Product.cs</h3><figure class="highlight csharp"><figcaption><span>Product.cs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Product</span> &#123;</div><div class="line">  [Key]</div><div class="line">  <span class="keyword">public</span> <span class="keyword">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">string</span> title &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">string</span> descrition &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line"></div><div class="line">  <span class="keyword">public</span> Category Category &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="DBContext-cs"><a href="#DBContext-cs" class="headerlink" title="DBContext.cs"></a>DBContext.cs</h3><figure class="highlight csharp"><figcaption><span>DBContext.cs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DBContext</span> : <span class="title">DbContext</span> &#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">DBContext</span>(<span class="params"></span>) : <span class="title">base</span>(<span class="params"><span class="string">"name=DbSource"</span></span>)</span>&#123;&#125;</div><div class="line"></div><div class="line">  <span class="keyword">public</span> DbSet&lt;Category&gt; Categories &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">  <span class="keyword">public</span> DbSet&lt;Product&gt; Products &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><p>這邊就不說明全部的架構，只提 <strong><a href="http://kevintsengtw.blogspot.tw/2013/12/aspnet-mvc-partial-view-layout.html" target="_blank" rel="external">Partial View</a></strong> 內 GridView 的參數設定。</p>
<h3 id="listGridViewPartial-cshtml"><a href="#listGridViewPartial-cshtml" class="headerlink" title="_listGridViewPartial.cshtml"></a>_listGridViewPartial.cshtml</h3><figure class="highlight csharp"><figcaption><span>listGridViewPartial.cshtml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">@&#123;</div><div class="line">    <span class="keyword">var</span> grid = Html.DevExpress().GridView(</div><div class="line">        settings =&gt; &#123;</div><div class="line">            .</div><div class="line">            .</div><div class="line">            &lt;省略&gt;</div><div class="line">            .</div><div class="line">            .</div><div class="line">            settings.Columns.Add(column=&gt; &#123;</div><div class="line">                column.FieldName = <span class="string">"Category_Id"</span>;</div><div class="line">                column.Caption = <span class="string">"Category"</span>;</div><div class="line">            &#125;);</div><div class="line">            .</div><div class="line">            .</div><div class="line">            &lt;省略&gt;</div><div class="line">            .</div><div class="line">            .</div><div class="line">        &#125;);</div><div class="line">    <span class="keyword">if</span> (ViewData[<span class="string">"EditError"</span>] != <span class="literal">null</span>)&#123;</div><div class="line">        grid.SetEditErrorText((<span class="keyword">string</span>)ViewData[<span class="string">"EditError"</span>]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">@grid.Bind(Model).GetHtml()</div></pre></td></tr></table></figure>
<h1 id="說明"><a href="#說明" class="headerlink" title="說明"></a>說明</h1><p>先從 Context 開始</p>
<h2 id="DBContext-cs-1"><a href="#DBContext-cs-1" class="headerlink" title="DBContext.cs"></a>DBContext.cs</h2><blockquote>
<p>透過 id 在 <strong>Category</strong> 找到名稱</p>
</blockquote>
<figure class="highlight csharp"><figcaption><span>DBContext.cs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">string</span> <span class="title">getName</span>(<span class="params"><span class="keyword">int</span> id</span>) </span>&#123;</div><div class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> db = <span class="keyword">new</span> DBContext()) &#123;</div><div class="line">        <span class="keyword">var</span> m = db.Category.Where(it =&gt; it.Id == id).Select(it =&gt; it.Name).FirstOrDefault();</div><div class="line">        <span class="keyword">return</span> m;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="View-1"><a href="#View-1" class="headerlink" title="View"></a>View</h2><p>回到 GridView 中。</p>
<p>GridView 如何將 data source 的資料 bound 在每個 column ？<br>答案是，它利用 <strong><a href="https://documentation.devexpress.com/#WindowsForms/DevExpressXtraGridColumnsGridColumn_FieldNametopic" target="_blank" rel="external">FieldName</a></strong> 這個屬性來辨別 data source 的每個欄位。</p>
<p>範例中，GridView 如果有需要做 <strong>資料的新增</strong>，存回資料表的是 Category_Id，所以將 Category_Id 與 column.FieldName 做綁定，那麼顯示的部份呢？</p>
<p>在 GridView 的 settings 內用 <strong><a href="https://documentation.devexpress.com/#AspNet/CustomDocument3766" target="_blank" rel="external">CustomColumnDisplayText</a></strong><br>把 <strong><em><a href="https://documentation.devexpress.com/#AspNet/clsDevExpressWebASPxGridViewColumnDisplayTextEventArgstopic" target="_blank" rel="external">DevExpress.Web.ASPxGridViewColumnDisplayTextEventArgs</a></em></strong> 的 DisplayText 做改變就可以辦到，如下：</p>
<figure class="highlight csharp"><figcaption><span>listGridViewPartial.cshtml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">@&#123;</div><div class="line">    <span class="keyword">var</span> grid = Html.DevExpress().GridView(</div><div class="line">        settings =&gt; &#123;</div><div class="line">            .</div><div class="line">            .</div><div class="line">            &lt;省略&gt;</div><div class="line">            .</div><div class="line">            .</div><div class="line">            settings.Columns.Add(column=&gt; &#123;</div><div class="line">                column.FieldName = <span class="string">"Category_Id"</span>;</div><div class="line">                column.Caption = <span class="string">"Category"</span>;</div><div class="line">            &#125;);</div><div class="line">            settings.CustomColumnDisplayText = (sender, e) =&gt; &#123;</div><div class="line">              <span class="keyword">if</span> (e.Column.FieldName != <span class="string">"Category_Id"</span>) <span class="keyword">return</span>;</div><div class="line">              DBContext db = <span class="keyword">new</span> DBContext();</div><div class="line">              e.DisplayText = db.getName((<span class="keyword">int</span>)e.Value);</div><div class="line">            &#125;;</div><div class="line">            .</div><div class="line">            .</div><div class="line">            &lt;省略&gt;</div><div class="line">            .</div><div class="line">            .</div><div class="line">        &#125;);</div><div class="line">    <span class="keyword">if</span> (ViewData[<span class="string">"EditError"</span>] != <span class="literal">null</span>)&#123;</div><div class="line">        grid.SetEditErrorText((<span class="keyword">string</span>)ViewData[<span class="string">"EditError"</span>]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">@grid.Bind(Model).GetHtml()</div></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://documentation.devexpress.com/#WindowsForms/DevExpressXtraGridColumnsGridColumn_FieldNametopic" target="_blank" rel="external">GridColumn.FieldName Property</a></li>
<li><a href="https://documentation.devexpress.com/#AspNet/CustomDocument3766" target="_blank" rel="external">How to: Provide Custom Display Text for Data Cells</a></li>
<li><a href="https://documentation.devexpress.com/#AspNet/clsDevExpressWebASPxGridViewColumnDisplayTextEventArgstopic" target="_blank" rel="external">DevExpress.Web.ASPxGridViewColumnDisplayTextEventArgs</a></li>
<li><a href="https://documentation.devexpress.com/#AspNet/CustomDocument3766" target="_blank" rel="external">CustomColumnDisplayText</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;p&gt;分享一些最近使用 &lt;a href=&quot;https://www.devexpress.com&quot;&gt;DevExpress&lt;/a&gt; 元件中的幾個用法。&lt;/p&gt;
&lt;h1 id=&quot;Scenario&quot;&gt;&lt;a href=&quot;#Scenario&quot; class=&quot;headerlink&quot; title=&quot;Scenario&quot;&gt;&lt;/a&gt;Scenario&lt;/h1&gt;&lt;p&gt;假設&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;一個類別(Category)有多種商品(Product)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在 &lt;strong&gt;Product&lt;/strong&gt; 的 &lt;a href=&quot;https://demos.devexpress.com/MVCxGridViewDemos/&quot;&gt;Grid View&lt;/a&gt; 內需要顯示 &lt;strong&gt;Category&lt;/strong&gt; 的名稱，而 &lt;strong&gt;Product&lt;/strong&gt; 資料表內只有存放 &lt;strong&gt;Category 的 id&lt;/strong&gt;&lt;br&gt;&lt;img src=&quot;/2016/04/24/devexpress-gridview-display/product.png&quot; alt=&quot;product.png&quot; title=&quot;&quot;&gt;，那我們怎麼在顯示的時候是 &lt;strong&gt;&lt;em&gt;name&lt;/em&gt;&lt;/strong&gt;，存放的時候是 &lt;strong&gt;&lt;em&gt;id&lt;/em&gt;&lt;/strong&gt; 呢？&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="DevExpress" scheme="http://ajdfajdfl2003.github.io/categories/Note/DevExpress/"/>
    
    
      <category term="devexpress" scheme="http://ajdfajdfl2003.github.io/tags/devexpress/"/>
    
      <category term="custom" scheme="http://ajdfajdfl2003.github.io/tags/custom/"/>
    
      <category term="gridview" scheme="http://ajdfajdfl2003.github.io/tags/gridview/"/>
    
      <category term="display" scheme="http://ajdfajdfl2003.github.io/tags/display/"/>
    
      <category term="text" scheme="http://ajdfajdfl2003.github.io/tags/text/"/>
    
  </entry>
  
  <entry>
    <title>How to Build a Blog in Hexo - Customize Themes</title>
    <link href="http://ajdfajdfl2003.github.io/2016/02/23/Hexo-Customize-Themes/"/>
    <id>http://ajdfajdfl2003.github.io/2016/02/23/Hexo-Customize-Themes/</id>
    <published>2016-02-23T08:44:28.000Z</published>
    <updated>2017-01-19T08:27:20.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<p>這篇文章主要是分享修改一些主題配置的心得。<br \=""><br>在網路上拿 <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a> 當作部落格的使用者，他們主題大部分都是用 <a href="http://theme-next.iissnan.com/" target="_blank" rel="external">NexT</a>，這邊就不贅述如何套用 <a href="https://hexo.io/themes/" target="_blank" rel="external">Themes</a>，相關套用主題的文章可以參考：</p>
<ul>
<li><a href="http://theme-next.iissnan.com/five-minutes-setup.html" target="_blank" rel="external">NexT - 五分鐘快速安裝</a></li>
<li><a href="http://papacochon.com/2015/09/03/hexo-2_set-the-theme/" target="_blank" rel="external">Hexo博客优化
</a><ul>
<li>這篇的作者將主題從<code>Modernist</code>換成<code>NexT</code>，而且還說明為什麼換了！</li>
</ul>
</li>
<li><a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">GitHub - Themes</a></li>
</ul>
<p>那麼我就先修改 <strong><code>favicon</code></strong> 開始說起</p>
<a id="more"></a>
<h2 id="為-Blog-加入-Browser-Tab-ico-圖示"><a href="#為-Blog-加入-Browser-Tab-ico-圖示" class="headerlink" title="為 Blog 加入 Browser Tab ico 圖示"></a>為 Blog 加入 Browser Tab ico 圖示</h2><h3 id="Create-favicon-ico"><a href="#Create-favicon-ico" class="headerlink" title="Create favicon.ico"></a>Create favicon.ico</h3><blockquote>
<p>在 <a href="http://theme-next.iissnan.com/theme-settings-example.html" target="_blank" rel="external">放置在 主题配置文件 中的选项</a> 有提到，<code>NexT 0.2</code>開始後就不再將<code>favicon.ico</code>放在 <strong> hexo-site-path/themes/[theme-name]/source 內了</strong>，不過，經過測試後還是能放，只是還沒發現後續會有什麼影響。</p>
</blockquote>
<p>這裡我用朋友在幾年前上課時候畫的一張圖來當測試</p>
<blockquote>
<ul>
<li>測試圖：<br><br><img src="/2016/02/23/Hexo-Customize-Themes/orig-ceo.jpg" alt="orig-ceo.jpg" title=""><br></li>
</ul>
</blockquote>
<p>將這張圖經過：</p>
<ol>
<li><a href="http://cutmypic.com/" target="_blank" rel="external">CUT MY Pic</a><ul>
<li>線上圖片製作修改</li>
</ul>
</li>
<li><a href="http://www.favicon-generator.org/" target="_blank" rel="external">Favicon &amp; App Icon Generator</a><ul>
<li>線上將 <strong>上面步驟產出的圖片</strong> 轉換成<code>favicon (.ico)</code></li>
<li>你可選擇只有產出<code>16x16的ico</code>還是<code>是用於各個平台及Apps使用的ico</code></li>
</ul>
</li>
</ol>
<p>最後產出的結果圖：<br><br><img src="/2016/02/23/Hexo-Customize-Themes/ceo.png" alt="ceo.png" title=""><br></p>
<blockquote>
<ul>
<li>假設你選擇<code>16x16的ico</code>，那麼就直接將檔案放置正確位置就好。<br></li>
<li>若你選擇另一個<code>是用於各個平台及Apps使用的ico</code>，下載下來會是個 <strong>zip</strong> 檔案，解壓縮後，我是選擇<code>96x96的ico</code>更名為<code>favicon.ico</code>，再將檔案放在正確位置即可。<ul>
<li>如果你是<code>Mac OS X</code>使用者，在更改檔名的時候會跳出選擇副檔名的訊息，記得選擇<code>更改為ico</code>。</li>
</ul>
</li>
</ul>
</blockquote>
<p>接著，我們這裡還是根據官方所說將檔案放在<code>hexo-site-path/source/</code>目錄吧！<br><br>最後，將 <strong>瀏覽器 重新啟動</strong> 就好。</p>
<blockquote>
<p><strong>Notice!</strong> 假設，你修改或變更 <strong>favicon.ico</strong> ，結果不如預期的話，不妨試著將瀏覽器清除記錄並重新啟動瀏覽器。</p>
</blockquote>
<p>效果圖：<br><br><img src="/2016/02/23/Hexo-Customize-Themes/favicon_result.png" alt="favicon_result.png" title=""><br><br></p>
<h3 id="See-also-favicon-ico"><a href="#See-also-favicon-ico" class="headerlink" title="See also - favicon.ico"></a>See also - favicon.ico</h3><ul>
<li><a href="http://zhezhe.me/2013/12/20/december_24/" target="_blank" rel="external">为Hexo Blog增加ico图标</a></li>
<li><a href="http://code.kpman.cc/2013/04/28/%E5%AE%A2%E8%A3%BD%E5%8C%96hexo-light-theme/" target="_blank" rel="external">客製化hexo light theme - 四、自訂favicon</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;p&gt;這篇文章主要是分享修改一些主題配置的心得。&lt;br \&gt;&lt;br&gt;在網路上拿 &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt; 當作部落格的使用者，他們主題大部分都是用 &lt;a href=&quot;http://theme-next.iissnan.com/&quot;&gt;NexT&lt;/a&gt;，這邊就不贅述如何套用 &lt;a href=&quot;https://hexo.io/themes/&quot;&gt;Themes&lt;/a&gt;，相關套用主題的文章可以參考：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://theme-next.iissnan.com/five-minutes-setup.html&quot;&gt;NexT - 五分鐘快速安裝&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://papacochon.com/2015/09/03/hexo-2_set-the-theme/&quot;&gt;Hexo博客优化
&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;這篇的作者將主題從&lt;code&gt;Modernist&lt;/code&gt;換成&lt;code&gt;NexT&lt;/code&gt;，而且還說明為什麼換了！&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/hexojs/hexo/wiki/Themes&quot;&gt;GitHub - Themes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那麼我就先修改 &lt;strong&gt;&lt;code&gt;favicon&lt;/code&gt;&lt;/strong&gt; 開始說起&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Hexo" scheme="http://ajdfajdfl2003.github.io/categories/Note/Hexo/"/>
    
    
      <category term="hexo" scheme="http://ajdfajdfl2003.github.io/tags/hexo/"/>
    
      <category term="themes" scheme="http://ajdfajdfl2003.github.io/tags/themes/"/>
    
  </entry>
  
  <entry>
    <title>How to Build a Blog in Hexo - Quick Start</title>
    <link href="http://ajdfajdfl2003.github.io/2016/01/14/How-to-Build-a-Blog-in-hexo-part-I/"/>
    <id>http://ajdfajdfl2003.github.io/2016/01/14/How-to-Build-a-Blog-in-hexo-part-I/</id>
    <published>2016-01-14T15:48:05.000Z</published>
    <updated>2017-01-19T08:27:14.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ttoc -->
<p>為什麼會想用 <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a> 呢？<br><br>某天在查有關 Java 的 Singleton 的資料，看到了這個篇文章 -  <a href="http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/" target="_blank" rel="external">如何正确地写出单例模式</a> 的部落格，網頁的最下方(footer)看到了一些資訊<br><br><br><img src="/2016/01/14/How-to-Build-a-Blog-in-hexo-part-I/image-footer.png" alt="image-footer.png" title=""><br><br>點進去後才知道原來還可以用 <a href="http://markdown.tw/" target="_blank" rel="external">Markdown</a> 來寫 Blog，事後回想，都可以用 Markdown 寫書、筆記，那用來寫文章又有何不可呢？<br><br>然而，因為之前有在 <a href="https://www.blogger.com/home" target="_blank" rel="external">Blogger</a> 寫文章，但寫文章的速度沒有像使用 Markdown 的快速，而且最近都是用 Markdown 在做筆記，<a href="https://atom.io/packages/ever-notedown" target="_blank" rel="external">完成後先將筆記放在 Evernote</a>，若將來要分享在 Blog 上也可以很迅速的 Copy &amp; Past，二來可以也不用擔心格式不一樣。</p>
<a id="more"></a>
<h2 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h2><blockquote>
<p><strong>Notice!</strong> This article is for <code>Mac OS X</code> and <code>Hexo 3.x</code>.</p>
</blockquote>
<h3 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h3><p>根據<a href="https://hexo.io/zh-tw/docs/index.html#u5B89_u88DD_Git" target="_blank" rel="external">官方文件 - 安裝 Git</a> 所述：</p>
<blockquote>
<p>Mac：使用 <a href="http://mxcl.github.com/homebrew/" target="_blank" rel="external">Homebrew</a>, <a href="http://www.macports.org/" target="_blank" rel="external">MacPorts</a> 或 <a href="http://sourceforge.net/projects/git-osx-installer/" target="_blank" rel="external">安裝程式</a> 安裝。</p>
</blockquote>
<ul>
<li>我是習慣用 <a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a> 來安裝套件</li>
<li>另一個參考網頁：<a href="https://ihower.tw/blog/archives/4308" target="_blank" rel="external">Homebrew: 新一代 OSX 套件管理工具</a></li>
</ul>
<p>安裝 <a href="http://git-scm.com/" target="_blank" rel="external">Git</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew install git</div></pre></td></tr></table></figure></p>
<h3 id="Install-Node-js"><a href="#Install-Node-js" class="headerlink" title="Install Node.js"></a>Install Node.js</h3><p>根據<a href="https://hexo.io/zh-tw/docs/index.html#u5B89_u88DD_Node-js" target="_blank" rel="external">官方文件 - 安裝 Node.js</a> 所述：</p>
<blockquote>
<p>安裝 Node.js 的最佳方式是透過 <a href="https://github.com/creationix/nvm" target="_blank" rel="external">nvm</a>。 <br><br>這篇文章有解釋為何最佳：<a href="http://dreamerslab.com/blog/tw/how-to-setup-a-node-js-development-environment-on-mac-osx-lion/" target="_blank" rel="external">如何在 Mac OSX Lion 上設定 node.js 的開發環境</a></p>
</blockquote>
<p>這裡還是用 <a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a> 來安裝 <a href="https://nodejs.org/" target="_blank" rel="external">Node.js</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ brew update</div><div class="line">$ brew install node</div></pre></td></tr></table></figure></p>
<h2 id="Build-up-Hexo"><a href="#Build-up-Hexo" class="headerlink" title="Build up Hexo"></a>Build up Hexo</h2><h3 id="Install-Hexo"><a href="#Install-Hexo" class="headerlink" title="Install Hexo"></a>Install Hexo</h3><p>將所有該裝的軟體都安裝完畢後，我們透過 npm 來安裝 hexo。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g hexo-cli</div></pre></td></tr></table></figure></p>
<h3 id="Assign-Folder-to-Hexo"><a href="#Assign-Folder-to-Hexo" class="headerlink" title="Assign Folder to Hexo"></a>Assign Folder to Hexo</h3><p>透過 npm 安裝 hexo 後，我們指定一個資料夾給 hexo。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo init blog  // 這邊 blog 代表資料夾</div><div class="line">$ <span class="built_in">cd</span> blog         // 這邊 blog 代表資料夾</div><div class="line">$ npm install     // 安裝 hexo 執行時候會用到的一些必要的元件</div></pre></td></tr></table></figure></p>
<h3 id="Testing-Hexo"><a href="#Testing-Hexo" class="headerlink" title="Testing Hexo"></a>Testing Hexo</h3><p>在指定好資料夾給 hexo 後，我們可以先測試看看到底長怎樣<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo hexo server</div></pre></td></tr></table></figure><br><img src="/2016/01/14/How-to-Build-a-Blog-in-hexo-part-I/test_hexo.png" alt="test_hexo.png" title=""><br></p>
<h2 id="Few-Tips"><a href="#Few-Tips" class="headerlink" title="Few Tips"></a>Few Tips</h2><ul>
<li>如果遇到權限不足的時候就加個<code>sudo</code>，就能解決了</li>
<li><strong>Notice !</strong> 我們啟動的時候必須要在我們 init <folder> 的路徑下開啟 hexo 服務，不然它會找不到啟動服務的檔案。</folder></li>
</ul>
<h2 id="See-also"><a href="#See-also" class="headerlink" title="See also"></a>See also</h2><ul>
<li><a href="https://hexo.io/zh-tw/docs/index.html" target="_blank" rel="external">Hexo - Official</a></li>
<li><a href="http://wsgzao.github.io/post/hexo-guide/" target="_blank" rel="external">使用GitHub和Hexo搭建免费静态Blog</a><ul>
<li>這邊文章是以<code>Windows</code>來建置環境</li>
</ul>
</li>
<li><a href="">Github Pages + Hexo 设计你的免费 blog</a><ul>
<li>這邊文章是以<code>Ubuntu</code>來建置環境</li>
</ul>
</li>
<li><a href="http://lupeng.me/2015/05/13/Hexo_Docs1.html" target="_blank" rel="external">Hexo Docs（一）- 开始准备</a><ul>
<li>它有介紹 <strong>Hexo 目錄底下的檔案</strong></li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;!-- ttoc --&gt;
&lt;p&gt;為什麼會想用 &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt; 呢？&lt;br /&gt;&lt;br&gt;某天在查有關 Java 的 Singleton 的資料，看到了這個篇文章 -  &lt;a href=&quot;http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/&quot;&gt;如何正确地写出单例模式&lt;/a&gt; 的部落格，網頁的最下方(footer)看到了一些資訊&lt;br /&gt;&lt;br /&gt;&lt;br&gt;&lt;img src=&quot;/2016/01/14/How-to-Build-a-Blog-in-hexo-part-I/image-footer.png&quot; alt=&quot;image-footer.png&quot; title=&quot;&quot;&gt;&lt;br /&gt;&lt;br&gt;點進去後才知道原來還可以用 &lt;a href=&quot;http://markdown.tw/&quot;&gt;Markdown&lt;/a&gt; 來寫 Blog，事後回想，都可以用 Markdown 寫書、筆記，那用來寫文章又有何不可呢？&lt;br /&gt;&lt;br&gt;然而，因為之前有在 &lt;a href=&quot;https://www.blogger.com/home&quot;&gt;Blogger&lt;/a&gt; 寫文章，但寫文章的速度沒有像使用 Markdown 的快速，而且最近都是用 Markdown 在做筆記，&lt;a href=&quot;https://atom.io/packages/ever-notedown&quot;&gt;完成後先將筆記放在 Evernote&lt;/a&gt;，若將來要分享在 Blog 上也可以很迅速的 Copy &amp;amp; Past，二來可以也不用擔心格式不一樣。&lt;/p&gt;
    
    </summary>
    
      <category term="Note" scheme="http://ajdfajdfl2003.github.io/categories/Note/"/>
    
      <category term="Hexo" scheme="http://ajdfajdfl2003.github.io/categories/Note/Hexo/"/>
    
    
      <category term="hexo" scheme="http://ajdfajdfl2003.github.io/tags/hexo/"/>
    
      <category term="Quick Start" scheme="http://ajdfajdfl2003.github.io/tags/Quick-Start/"/>
    
  </entry>
  
</feed>
